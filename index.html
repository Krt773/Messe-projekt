<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>T.CON Berufe-Explorer â€“ Drei Mini-Spiele</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
:root{
  /* ======== T.CON BRANDING ======== */

  /* Hauptfarben */
  --brand1:#00B7F3;    /* RGB 0,183,243 */
  --brand2:#BFBFBF;    /* RGB 191,191,191 */
  --brand3:#343433;    /* RGB 52,52,51 */

  /* Text & Panel */
  --text:white;
  --muted:#d6d6d6;

  /* UI */
  --radius:18px;
  --line:rgba(255,255,255,.22);
  --shadow:0 18px 36px rgba(0,0,0,.40);
}

/* ======== GLOBAL ======== */

* { box-sizing:border-box; }

body{
  margin:0;
  font-family:system-ui,"Segoe UI",Roboto,Arial;
  color:var(--text);

  /* Hintergrundbild */
  background:
    linear-gradient(rgba(0,0,0,.55), rgba(0,0,0,.55)),
    url('background.png') no-repeat center/cover;

  min-height:100vh;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  padding:20px;
}

/* Container */
.app{ width:100%; max-width:1100px; }

/* ======== HEADER ======== */

.header{
  display:flex;
  flex-direction:column;
  gap:10px;
  background:rgba(52,52,51,.75);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:18px;
  box-shadow:var(--shadow);
  backdrop-filter:blur(4px);
}

.brand{ display:flex; align-items:center; gap:14px; }
.brand .logo{ width:130px; }
.brand .title{ font-weight:800; font-size:20px; letter-spacing:.2px; }

/* ======== TOP NAVIGATION ======== */

.nav{
  display:flex; gap:10px;
  background:rgba(255,255,255,.10);
  border:1px solid var(--line);
  border-radius:14px; padding:6px;
}

.seg{
  appearance:none; border:none; cursor:pointer;
  padding:10px 16px; border-radius:10px;
  font-weight:800; font-size:14px;
  background:transparent; color:white;
  min-width:160px; transition:.15s;
}
.seg.home{ min-width:120px; }
.seg:hover{ transform:translateY(-1px); filter:brightness(1.1); }
.seg.active{
  background:linear-gradient(135deg, var(--brand1), rgba(0,183,243,.55));
  box-shadow:0 8px 22px rgba(0,183,243,.35);
}

/* ======== CARD STYLE ======== */

.card{
  background:rgba(52,52,51,.78);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:20px; margin-top:12px;
  box-shadow:var(--shadow); backdrop-filter:blur(4px);
}

h2{ margin:0 0 8px; font-size:22px; }
.p{ color:var(--muted); margin:4px 0 14px; font-size:15px; }

/* ======== GRID ======== */

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(260px,1fr));
  gap:12px;
}

.tile{
  background:rgba(255,255,255,.10);
  border:1px solid var(--line);
  border-radius:14px;
  padding:16px;
  cursor:pointer;
  transition:.15s;
}
.tile:hover{ transform:translateY(-2px); filter:brightness(1.1); }
.tile h3{ margin:0 0 6px; }
.tile .desc{ color:var(--muted); font-size:13px; }

/* ====== QUESTION AREA ====== */

.paper{
  background:rgba(52,52,51,.85);
  border:1px solid var(--line);
  border-radius:16px;
  padding:18px;
  box-shadow:inset 0 0 0 1px rgba(0,0,0,.3);
  backdrop-filter: blur(3px);
}
.question{
  font-size:20px; font-weight:800; text-align:center; margin-bottom:12px;
}

/* ====== PROGRESS BAR ====== */

.progressWrap{ display:flex; align-items:center; gap:12px; margin-bottom:10px; }
.progressBar{
  flex:1; background:rgba(255,255,255,.08);
  border:1px solid var(--line);
  height:10px; border-radius:999px; overflow:hidden;
}
.progressFill{
  background:linear-gradient(90deg, var(--brand1), var(--brand2));
  height:100%; width:0%; transition:.3s;
}
.progressLabel{ font-size:12px; color:var(--muted); }

/* ====== ANSWER BUTTONS ====== */

.btn{
  width:100%; padding:18px; border:none; border-radius:14px;
  font-size:16px; font-weight:800; cursor:pointer; margin:10px 0;
  color:white; transition:.15s;
}
.btn:hover{ filter:brightness(1.1); }

.btn.si{ background:linear-gradient(135deg,#007aff,#0048b3); }
.btn.ae{ background:linear-gradient(135deg,#7c5cff,#4528ff); }
.btn.dm{ background:linear-gradient(135deg,#10b981,#0e8f66); }

/* Richtig/falsch Feedback */
.btn.is-correct{ outline:2px solid rgba(35,212,161,.55); }
.btn.is-wrong{ outline:2px solid rgba(255,77,77,.35); opacity:.85; }
.btn.is-dim{ opacity:.55; }

/* Info */
.info{
  background:rgba(255,255,255,.08);
  border:1px dashed var(--line);
  border-radius:10px; padding:12px;
  font-size:14px; color:white; margin-top:10px;
}

/* Bottom buttons */
.actions{ display:flex; gap:8px; margin-top:12px; }
.actionBtn{
  padding:10px 14px; background:rgba(255,255,255,.10);
  border-radius:12px; border:1px solid var(--line);
  cursor:pointer; font-weight:800; color:white;
}
.actionBtn:hover{ transform:translateY(-1px); filter:brightness(1.1); }

/* Hide sections */
.section{ display:none; }
.section.active{ display:block; }
</style>
</head>
<body>

<div class="app">

  <!-- HEADER -->
  <div class="header">
    <div class="brand">
      <svg class="logo" viewBox="0 0 220 40"><defs><linearGradient id="brandGrad" x1="0" y1="0" x2="1" y2="0"><stop offset="0" stop-color="#00B7F3"/><stop offset="1" stop-color="#23d4a1"/></linearGradient></defs><rect x="0" y="6" width="40" height="28" rx="6" fill="url(#brandGrad)"/><circle cx="20" cy="20" r="8" fill="rgba(255,255,255,.85)"/><text x="56" y="26" font-family="Segoe UI" font-weight="800" font-size="20" fill="url(#brandGrad)">T.CON</text></svg>
      <div class="title">Berufeâ€‘Explorer â€¢ T.CON</div>
    </div>

    <div class="nav" id="nav">
      <button class="seg home active" data-target="home" onclick="showSection('home')">ğŸ  Start</button>
      <button class="seg" data-target="si" onclick="showSection('si')">ğŸ–¥ï¸ Systemintegration</button>
      <button class="seg" data-target="ae" onclick="showSection('ae')">ğŸ’» Anwendungsentwicklung</button>
      <button class="seg" data-target="dm" onclick="showSection('dm')">ğŸ“Š Digitalisierung</button>
    </div>
  </div>

  <!-- HOME -->
  <section id="home" class="section active">
    <div class="card">
      <h2>WÃ¤hle ein Spiel</h2>
      <div class="p">
        Pro Runde <b>6 zufÃ¤llige Fragen</b> (aus 10).<br/>
        Jede Frage hat eine <b>richtige</b>, eine <b>falsche</b> und eine <b>lustige</b> Antwort.
      </div>

      <div class="grid">
        <div class="tile" onclick="showSection('si')">
          <h3>ğŸ–¥ï¸ ITâ€‘Support (Systemintegration)</h3>
          <div class="desc">LÃ¶se echte Supportâ€‘Situationen.</div>
        </div>
        <div class="tile" onclick="showSection('ae')">
          <h3>ğŸ’» Anwendungsentwicklung</h3>
          <div class="desc">Denke wie ein Entwickler â€“ ohne Programmieren.</div>
        </div>
        <div class="tile" onclick="showSection('dm')">
          <h3>ğŸ“Š Digitalisierung</h3>
          <div class="desc">Finde die beste digitale LÃ¶sung.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ==================== SI GAME ==================== -->
  <section id="si" class="section">
    <div class="card">
      <div class="progressWrap">
        <div class="progressBar"><div id="si_prog" class="progressFill"></div></div>
        <div id="si_prog_label" class="progressLabel">Frage 1/6</div>
        <div id="si_score" class="progressLabel">Punkte: 0</div>
      </div>

      <div class="paper">
        <div id="si_q" class="question"></div>
        <button id="si_opt1" class="btn si"></button>
        <button id="si_opt2" class="btn si"></button>
        <button id="si_opt3" class="btn si"></button>
        <div id="si_info" class="info"></div>
      </div>

      <div class="actions">
        <button class="actionBtn" onclick="resetGame('si')">ğŸ”„ Neu</button>
        <button class="actionBtn" onclick="showSection('home')">ğŸ  Start</button>
      </div>
    </div>
  </section>

  <!-- ==================== AE GAME ==================== -->
  <section id="ae" class="section">
    <div class="card">
      <div class="progressWrap">
        <div class="progressBar"><div id="ae_prog" class="progressFill"></div></div>
        <div id="ae_prog_label" class="progressLabel">Frage 1/6</div>
        <div id="ae_score" class="progressLabel">Punkte: 0</div>
      </div>

      <div class="paper">
        <div id="ae_q" class="question"></div>
        <button id="ae_opt1" class="btn ae"></button>
        <button id="ae_opt2" class="btn ae"></button>
        <button id="ae_opt3" class="btn ae"></button>
        <div id="ae_info" class="info"></div>
      </div>

      <div class="actions">
        <button class="actionBtn" onclick="resetGame('ae')">ğŸ”„ Neu</button>
        <button class="actionBtn" onclick="showSection('home')">ğŸ  Start</button>
      </div>
    </div>
  </section>

  <!-- ==================== DM GAME ==================== -->
  <section id="dm" class="section">
    <div class="card">
      <div class="progressWrap">
        <div class="progressBar"><div id="dm_prog" class="progressFill"></div></div>
        <div id="dm_prog_label" class="progressLabel">Frage 1/6</div>
        <div id="dm_score" class="progressLabel">Punkte: 0</div>
      </div>

      <div class="paper">
        <div id="dm_q" class="question"></div>
        <button id="dm_opt1" class="btn dm"></button>
        <button id="dm_opt2" class="btn dm"></button>
        <button id="dm_opt3" class="btn dm"></button>
        <div id="dm_info" class="info"></div>
      </div>

      <div class="actions">
        <button class="actionBtn" onclick="resetGame('dm')">ğŸ”„ Neu</button>
        <button class="actionBtn" onclick="showSection('home')">ğŸ  Start</button>
      </div>
    </div>
  </section>

</div>

<script>
/* ----- Navigation ----- */
function showSection(id){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');

  document.querySelectorAll('#nav .seg').forEach(b=>{
    b.classList.toggle('active', b.dataset.target===id);
  });

  if(id==='si' && !si_state.started) start_si();
  if(id==='ae' && !ae_state.started) start_ae();
  if(id==='dm' && !dm_state.started) start_dm();
}

/* ----- Helper ----- */
function shuffle(a){ return a.sort(()=>Math.random()-0.5); }

/* ----- Universal feedback ----- */
function choose_with_feedback(btnIds, clickedIdx, info, who){
  btnIds.forEach((id,i)=>{
    const el=document.getElementById(id);
    el.disabled=true;
    const ok = el.dataset.ok==="1";
    if(i===clickedIdx) el.classList.add(ok?'is-correct':'is-wrong');
    else{
      el.classList.add('is-dim');
      if(ok) el.classList.add('is-correct');
    }
  });

  document.getElementById(`${who}_info`).innerText=info;

  // correct?
  const isCorrect=document.getElementById(btnIds[clickedIdx]).dataset.ok==="1";
  if(who==='si'){ if(isCorrect) si_state.points++; si_state.i++; setTimeout(render_si,1100); }
  if(who==='ae'){ if(isCorrect) ae_state.points++; ae_state.i++; setTimeout(render_ae,1100); }
  if(who==='dm'){ if(isCorrect) dm_state.points++; dm_state.i++; setTimeout(render_dm,1100); }

  document.getElementById(`${who}_score`).innerText="Punkte: "+(who==='si'?si_state.points:who==='ae'?ae_state.points:dm_state.points);
}

/* =========================== */
/* ========== SI GAME ========= */
/* =========================== */

const si_pool=[
  {q:"Der PC geht an, aber der Bildschirm bleibt komplett schwarz.",answers:[
    {text:"Stromkabel, Monitoranschluss und Powerâ€‘Button zuerst prÃ¼fen.",type:'correct'},
    {text:"Sofort neuen PC bestellen.",type:'wrong'},
    {text:"Bis morgen warten â€“ vielleicht gehtâ€™s dann.",type:'funny'}],
    info:"ğŸ§  Erst einfache Hardware prÃ¼fen."},

  {q:"â€Das WLAN ist sehr langsam. Webseiten laden kaum.â€œ",answers:[
    {text:"Routerâ€‘Standort und StÃ¶rungen prÃ¼fen.",type:'correct'},
    {text:"Ignorieren â€“ wird schon besser.",type:'wrong'},
    {text:"Fenster Ã¶ffnen â€“ frische Luft.",type:'funny'}],
    info:"ğŸ“¶ Entfernung & StÃ¶rungen prÃ¼fen."},

  {q:"Druckauftrag gesendet â€“ aber kein Ausdruck.",answers:[
    {text:"Papier/Toner/Kabel + Warteschlange prÃ¼fen.",type:'correct'},
    {text:"20Ã— auf â€Druckenâ€œ klicken.",type:'wrong'},
    {text:"Drucker nett anlÃ¤cheln.",type:'funny'}],
    info:"ğŸ–¨ï¸ HÃ¤ufig Warteschlange oder Papier."},

  {q:"Login schlÃ¤gt fehl. Fehlermeldung erscheint.",answers:[
    {text:"Passwort & Accountstatus prÃ¼fen.",type:'correct'},
    {text:"Passwort Ã¼berall â€š1234â€˜ setzen.",type:'wrong'},
    {text:"Vielleicht Montag.",type:'funny'}],
    info:"ğŸ” Fehlermeldung lesen hilft."},

  {q:"Programm Ã¶ffnet sich gar nicht.",answers:[
    {text:"Fehlermeldung/Updates prÃ¼fen.",type:'correct'},
    {text:"System komplett neu installieren.",type:'wrong'},
    {text:"PC mit Snacks motivieren.",type:'funny'}],
    info:"âš™ï¸ Neustart & Update zuerst."},

  {q:"â€Ich kann keine Eâ€‘Mails senden oder empfangen.â€œ",answers:[
    {text:"Internet + Speicherplatz prÃ¼fen.",type:'correct'},
    {text:"Einfach alles lÃ¶schen.",type:'wrong'},
    {text:"Mehr Drucker kaufen.",type:'funny'}],
    info:"ğŸ“§ Oft Speicher voll / offline."},

  {q:"Maus oder Tastatur reagieren nicht.",answers:[
    {text:"Batterie/Kabel prÃ¼fen.",type:'correct'},
    {text:"Einfach pusten.",type:'wrong'},
    {text:"Mit KÃ¤se locken.",type:'funny'}],
    info:"ğŸ–±ï¸ Peripherie: Kabel/Port."},

  {q:"Monitor flackert.",answers:[
    {text:"Kabel/Monitor testen.",type:'correct'},
    {text:"Helligkeit max.",type:'wrong'},
    {text:"Zuzwinkern.",type:'funny'}],
    info:"ğŸ–¥ï¸ Meist Kabel locker."},

  {q:"â€Ich komme nicht ins Internet.â€œ",answers:[
    {text:"LAN/WLAN prÃ¼fen + Router testen.",type:'correct'},
    {text:"Neuen Router kaufen.",type:'wrong'},
    {text:"Magnet ans Internet halten.",type:'funny'}],
    info:"ğŸŒ Lokale Verbindung prÃ¼fen."},

  {q:"Kein Ton bei Videos/Musik.",answers:[
    {text:"AusgabegerÃ¤t & Kabel prÃ¼fen.",type:'correct'},
    {text:"KopfhÃ¶rer zerstÃ¶ren.",type:'wrong'},
    {text:"Laptop anschmunzeln.",type:'funny'}],
    info:"ğŸ”Š HÃ¤ufig falsches GerÃ¤t ausgewÃ¤hlt."},
];

let si_questions=[], si_state={i:0,points:0,started:false,total:6};

function start_si(){
  si_state={i:0,points:0,started:true,total:Math.min(6, si_pool.length)};
  si_questions=shuffle([...si_pool]).slice(0,si_state.total);
  render_si();
  update_si_progress();
  document.getElementById('si_score').innerText="Punkte: 0";
}

function update_si_progress(){
  const pct=(si_state.i/si_state.total)*100;
  document.getElementById('si_prog').style.width=pct+"%";
  document.getElementById('si_prog_label').innerText=`Frage ${Math.min(si_state.i+1,si_state.total)}/${si_state.total}`;
}

function render_si(){
  if(si_state.i>=si_state.total) return end_si();
  const s=si_questions[si_state.i];
  document.getElementById('si_q').innerText=s.q;
  document.getElementById('si_info').innerText="";
  const opts=shuffle(s.answers.map(a=>({text:a.text,ok:a.type==='correct'})));
  ['si_opt1','si_opt2','si_opt3'].forEach((id,i)=>{
    const b=document.getElementById(id);
    b.style.display='block';
    b.disabled=false;
    b.classList.remove('is-correct','is-wrong','is-dim');
    b.innerText=opts[i].text;
    b.dataset.ok=opts[i].ok?'1':'0';
    b.onclick=()=>choose_with_feedback(['si_opt1','si_opt2','si_opt3'],i,s.info,'si');
  });
  update_si_progress();
}

function end_si(){
  document.getElementById('si_prog').style.width='100%';
  document.getElementById('si_prog_label').innerText="Fertig";
  const msg=si_state.points>=Math.ceil(si_state.total*0.67)?"ğŸš€ Guter Supportâ€‘Gedanke!":"ğŸ™‚ Solider Anfang!";
  document.getElementById('si_q').innerHTML=`${msg}<br>Du hast <b>${si_state.points}/${si_state.total}</b> Punkten erreicht.`;

  const b1=document.getElementById('si_opt1');
  const b2=document.getElementById('si_opt2');
  const b3=document.getElementById('si_opt3');

  // --- WICHTIG: Buttons wieder aktivieren + Klassen resetten ---
  [b1,b2,b3].forEach(b=>{
    b.disabled=false;
    b.classList.remove('is-correct','is-wrong','is-dim');
    b.style.display='block';
  });

  b1.innerText="ğŸ”„ Nochmal spielen"; b1.onclick=()=>resetGame('si');
  b2.innerText="ğŸ  ZurÃ¼ck";         b2.onclick=()=>showSection('home');
  b3.style.display='none';
}

/* =========================== */
/* ========== AE GAME ========= */
/* =========================== */

const ae_pool = [
  { q:"Ein Button wird geklickt â€“ aber die App reagiert nicht.",
    answers:[
      {text:"PrÃ¼fen, ob die Ereignisâ€‘Funktion wirklich ausgelÃ¶st wird.", type:'correct'},
      {text:"Alles neu programmieren â€“ ohne zu testen.", type:'wrong'},
      {text:"Kurz Pause, dann nochmal probieren.", type:'funny'}],
    info:"ğŸ§  Erst checken: Wird der Code Ã¼berhaupt ausgefÃ¼hrt?" },
  { q:"Du sollst einen Login bauen. Was ist der erste sinnvolle Schritt?",
    answers:[
      {text:"Logik planen: Eingabe â†’ PrÃ¼fung â†’ Ergebnis.", type:'correct'},
      {text:"Ohne Plan losprogrammieren.", type:'wrong'},
      {text:"Erst das Logo animieren.", type:'funny'}],
    info:"ğŸ“‹ Planung spart Zeit und Fehler." },
  { q:"Wenn das Textfeld leer bleibt, stÃ¼rzt die App direkt ab.",
    answers:[
      {text:"Eingaben prÃ¼fen und eine klare Fehlermeldung anzeigen.", type:'correct'},
      {text:"Fehler ignorieren â€“ passiert halt.", type:'wrong'},
      {text:"Leere Felder bunt fÃ¤rben.", type:'funny'}],
    info:"âœ… Eingaben validieren = Standard." },
  { q:"Du schreibst eine Funktion, die etwas berechnet.",
    answers:[
      {text:"Klare Funktion schreiben und sinnvoll benennen.", type:'correct'},
      {text:"Name â€abc123â€œ, Logik verstreuen.", type:'wrong'},
      {text:"Funktion â€megaTurbo()â€œ nennen.", type:'funny'}],
    info:"ğŸ”§ Saubere Funktionen = verstÃ¤ndlicher Code." },
  { q:"Ein Teil der App reagiert sehr langsam. Nutzer beschweren sich.",
    answers:[
      {text:"Messen (Profiling) und gezielt optimieren.", type:'correct'},
      {text:"Alles neu schreiben ohne Grund.", type:'wrong'},
      {text:"Schriftart wechseln â€“ vielleicht schneller.", type:'funny'}],
    info:"ğŸ“ˆ Erst messen, dann verbessern." },
  { q:"Ein Nutzer schreibt: â€Ich habe einen Fehler gefunden.â€œ",
    answers:[
      {text:"Fehler reproduzieren und Ursache suchen.", type:'correct'},
      {text:"Direkt schlieÃŸen: â€Kein Bugâ€œ. ", type:'wrong'},
      {text:"Screenshot erbitten und freundlich bleiben.", type:'funny'}],
    info:"ğŸ Debugging: Reproduzieren â†’ Analysieren â†’ Fix." },
  { q:"Eine Eingabe soll gespeichert werden â€“ aber nur gÃ¼ltige Werte.",
    answers:[
      {text:"Eingaben prÃ¼fen und nur gÃ¼ltige Daten speichern.", type:'correct'},
      {text:"Alles speichern â€“ egal was.", type:'wrong'},
      {text:"Speichern mit Konfetti feiern.", type:'funny'}],
    info:"ğŸ’¾ Validierung vor Speichern ist wichtig." },
  { q:"Es wird eine Fehlermeldung fÃ¼r Nutzer gebraucht.",
    answers:[
      {text:"Kurze, klare Meldung (â€Bitte Text eingebenâ€œ).", type:'correct'},
      {text:"Kryptischen Entwicklerâ€‘Fehler anzeigen.", type:'wrong'},
      {text:"Freundliche Sprechblase â€“ aber verstÃ¤ndlich.", type:'funny'}],
    info:"ğŸ—£ï¸ Gute Meldungen helfen Nutzern." },
  { q:"Ein neues Softwareâ€‘Projekt startet.",
    answers:[
      {text:"Ziele & Anforderungen kurz dokumentieren.", type:'correct'},
      {text:"Einfach irgendwas bauen.", type:'wrong'},
      {text:"Nur die Farben festlegen.", type:'funny'}],
    info:"ğŸ¯ Erst verstehen, dann bauen." },
  { q:"Dein Team soll deinen Code spÃ¤ter nutzen kÃ¶nnen.",
    answers:[
      {text:"Code ordentlich und verstÃ¤ndlich schreiben.", type:'correct'},
      {text:"Nur ich verstehe den Code â€“ egal.", type:'wrong'},
      {text:"Lustige Kommentare (aber sinnvoll).", type:'funny'}],
    info:"ğŸ‘¥ Sauberer Code hilft dem Team." }
];

let ae_questions=[], ae_state={i:0,points:0,started:false,total:6};

function start_ae(){
  ae_state={i:0,points:0,started:true,total:Math.min(6, ae_pool.length)};
  ae_questions=shuffle([...ae_pool]).slice(0,ae_state.total);
  render_ae();
  update_ae_progress();
  document.getElementById('ae_score').innerText="Punkte: 0";
}

function update_ae_progress(){
  const pct=(ae_state.i/ae_state.total)*100;
  document.getElementById('ae_prog').style.width=pct+"%";
  document.getElementById('ae_prog_label').innerText=`Frage ${Math.min(ae_state.i+1,ae_state.total)}/${ae_state.total}`;
}

function render_ae(){
  if(ae_state.i>=ae_state.total) return end_ae();
  const s=ae_questions[ae_state.i];
  document.getElementById('ae_q').innerText=s.q;
  document.getElementById('ae_info').innerText="";
  const opts=shuffle(s.answers.map(a=>({text:a.text,ok:a.type==='correct'})));
  ['ae_opt1','ae_opt2','ae_opt3'].forEach((id,i)=>{
    const b=document.getElementById(id);
    b.style.display='block';
    b.disabled=false;
    b.classList.remove('is-correct','is-wrong','is-dim');
    b.innerText=opts[i].text;
    b.dataset.ok=opts[i].ok?'1':'0';
    b.onclick=()=>choose_with_feedback(['ae_opt1','ae_opt2','ae_opt3'],i,s.info,'ae');
  });
  update_ae_progress();
}

function end_ae(){
  document.getElementById('ae_prog').style.width='100%';
  document.getElementById('ae_prog_label').innerText="Fertig";
  const msg=ae_state.points>=Math.ceil(ae_state.total*0.67)?"ğŸš€ Du denkst wie ein Entwickler!":"ğŸ™‚ Guter Anfang!";
  document.getElementById('ae_q').innerHTML=`${msg}<br>Du hast <b>${ae_state.points}/${ae_state.total}</b> Punkten erreicht.`;

  const b1=document.getElementById('ae_opt1');
  const b2=document.getElementById('ae_opt2');
  const b3=document.getElementById('ae_opt3');

  // --- WICHTIG: Buttons wieder aktivieren + Klassen resetten ---
  [b1,b2,b3].forEach(b=>{
    b.disabled=false;
    b.classList.remove('is-correct','is-wrong','is-dim');
    b.style.display='block';
  });

  b1.innerText="ğŸ”„ Nochmal spielen"; b1.onclick=()=>resetGame('ae');
  b2.innerText="ğŸ  ZurÃ¼ck";         b2.onclick=()=>showSection('home');
  b3.style.display='none';
}

/* =========================== */
/* ========== DM GAME ========= */
/* =========================== */

const dm_pool = [
  { q:"In einer Abteilung lÃ¤uft alles noch mit Papierformularen. Nichts ist digital.",
    answers:[
      {text:"Prozesse anschauen, dann passende Software auswÃ¤hlen.", type:'correct'},
      {text:"Sofort viele Programme installieren.", type:'wrong'},
      {text:"Mehr Ordner kaufen â€“ fast digital.", type:'funny'}],
    info:"ğŸ“‹ Digitalisierung startet mit Prozessâ€‘Blick." },
  { q:"Dateien sind chaotisch verteilt: USBâ€‘Sticks, Desktop, Eâ€‘Mails usw.",
    answers:[
      {text:"Gemeinsame Ablage/Cloud mit klarer Struktur einfÃ¼hren.", type:'correct'},
      {text:"Jeder arbeitet weiter alleine.", type:'wrong'},
      {text:"Dateien per Brieftaube verteilen.", type:'funny'}],
    info:"ğŸ“ Einheitliche Ablage hilft allen." },
  { q:"Kunden mÃ¼ssen Formulare herunterladen, ausdrucken, unterschreiben und zurÃ¼ckschicken.",
    answers:[
      {text:"Onlineâ€‘Formular + digitale Unterschrift einfÃ¼hren.", type:'correct'},
      {text:"Mehr Drucker kaufen.", type:'wrong'},
      {text:"Das FaxgerÃ¤t reaktivieren â€“ retro.", type:'funny'}],
    info:"âœï¸ Digital ersetzt Papier." },
  { q:"Mitarbeiter haben Angst vor neuen digitalen Arbeitsweisen.",
    answers:[
      {text:"Kurz schulen und zeigen, wie es hilft.", type:'correct'},
      {text:"Einfach ohne ErklÃ¤rung durchdrÃ¼cken.", type:'wrong'},
      {text:"Sticker â€Wir â™¥ digitalâ€œ verteilen.", type:'funny'}],
    info:"ğŸ‘¥ Gute Kommunikation ist wichtig." },
  { q:"Der Chef sagt: â€Wir brauchen Ã¼berall KI!â€œ â€“ aber ohne klares Ziel.",
    answers:[
      {text:"Kleines Projekt mit klarer Aufgabe testen.", type:'correct'},
      {text:"Alles sofort umstellen, egal wie.", type:'wrong'},
      {text:"Die Kantine von KI planen lassen.", type:'funny'}],
    info:"ğŸ¯ Pilotprojekt statt Hype." },
  { q:"Rechnungen kommen per Post und werden manuell abgetippt.",
    answers:[
      {text:"Scan + automatische Erkennung + Freigabeprozess.", type:'correct'},
      {text:"Alle schneller tippen lassen.", type:'wrong'},
      {text:"In SchÃ¶nschrift abschreiben.", type:'funny'}],
    info:"ğŸ§¾ Digitale Workflows sparen Zeit & Fehler." },
  { q:"Termine werden mit Postâ€‘its und Papierlisten geplant.",
    answers:[
      {text:"Gemeinsamen Onlineâ€‘Kalender einfÃ¼hren.", type:'correct'},
      {text:"Zettel farbig markieren â€“ reicht.", type:'wrong'},
      {text:"Termine auf Papierfliegern verschicken.", type:'funny'}],
    info:"ğŸ“… Digitaler Kalender = weniger Chaos." },
  { q:"Wissen liegt verteilt in vielen Wordâ€‘Dokumenten â€“ keiner findet etwas.",
    answers:[
      {text:"Wissensdatenbank (z.â€¯B. SharePoint) nutzen.", type:'correct'},
      {text:"Alles per Eâ€‘Mail verteilen.", type:'wrong'},
      {text:"In Geheimschrift speichern.", type:'funny'}],
    info:"ğŸ“š Zentraler Wissensort hilft allen." },
  { q:"Dokumente mÃ¼ssen von mehreren Personen freigegeben werden â€“ das dauert ewig.",
    answers:[
      {text:"Digitalen Freigabeâ€‘Workflow aufsetzen.", type:'correct'},
      {text:"Alle Freigaben abschaffen.", type:'wrong'},
      {text:"Freigaben per WÃ¼rfel entscheiden.", type:'funny'}],
    info:"âœ… Workflows beschleunigen AblÃ¤ufe." },
  { q:"Eine neue Software soll eingefÃ¼hrt werden. Viele sind unsicher.",
    answers:[
      {text:"Klein starten (Pilot) + Feedback sammeln.", type:'correct'},
      {text:"Alle sofort zwingen â€“ fertig.", type:'wrong'},
      {text:"Software im Lostopf ziehen.", type:'funny'}],
    info:"ğŸ§ª Pilot + Feedback = gute EinfÃ¼hrung." }
];

let dm_questions=[], dm_state={i:0,points:0,started:false,total:6};

function start_dm(){
  dm_state={i:0,points:0,started:true,total:Math.min(6, dm_pool.length)};
  dm_questions=shuffle([...dm_pool]).slice(0,dm_state.total);
  render_dm();
  update_dm_progress();
  document.getElementById('dm_score').innerText="Punkte: 0";
}

function update_dm_progress(){
  const pct=(dm_state.i/dm_state.total)*100;
  document.getElementById('dm_prog').style.width=pct+"%";
  document.getElementById('dm_prog_label').innerText=`Frage ${Math.min(dm_state.i+1,dm_state.total)}/${dm_state.total}`;
}

function render_dm(){
  if(dm_state.i>=dm_state.total) return end_dm();
  const s=dm_questions[dm_state.i];
  document.getElementById('dm_q').innerText=s.q;
  document.getElementById('dm_info').innerText="";
  const opts=shuffle(s.answers.map(a=>({text:a.text,ok:a.type==='correct'})));
  ['dm_opt1','dm_opt2','dm_opt3'].forEach((id,i)=>{
    const b=document.getElementById(id);
    b.style.display='block';
    b.disabled=false;
    b.classList.remove('is-correct','is-wrong','is-dim');
    b.innerText=opts[i].text;
    b.dataset.ok=opts[i].ok?'1':'0';
    b.onclick=()=>choose_with_feedback(['dm_opt1','dm_opt2','dm_opt3'],i,s.info,'dm');
  });
  update_dm_progress();
}

function end_dm(){
  document.getElementById('dm_prog').style.width='100%';
  document.getElementById('dm_prog_label').innerText="Fertig";

  const msg=dm_state.points>=Math.ceil(dm_state.total*0.67)?"ğŸš€ Du denkst wie ein Digitalisierer!":"ğŸ™‚ Gut gemacht!";
  document.getElementById('dm_q').innerHTML=`${msg}<br>Du hast <b>${dm_state.points}/${dm_state.total}</b> Punkten erreicht.`;

  const b1=document.getElementById('dm_opt1');
  const b2=document.getElementById('dm_opt2');
  const b3=document.getElementById('dm_opt3');

  // --- WICHTIG: Buttons wieder aktivieren + Klassen resetten ---
  [b1,b2,b3].forEach(b=>{
    b.disabled=false;
    b.classList.remove('is-correct','is-wrong','is-dim');
    b.style.display='block';
  });

  b1.innerText="ğŸ”„ Nochmal spielen"; b1.onclick=()=>resetGame('dm');
  b2.innerText="ğŸ  ZurÃ¼ck";         b2.onclick=()=>showSection('home');
  b3.style.display='none';

  document.getElementById('dm_info').innerText="Digitalisierung: Prozesse verstehen, sinnvoll verbessern, Menschen mitnehmen.";
}

/* Reset */
function resetGame(which){
  // Buttons wieder aktivieren + Styles zurÃ¼cksetzen (robust)
  ['opt1','opt2','opt3'].forEach(o=>{
    const b = document.getElementById(`${which}_${o}`);
    if(b){
      b.disabled = false;
      b.classList.remove('is-correct','is-wrong','is-dim');
      b.style.display = 'block';
    }
  });

  if(which==='si'){ si_state.started=false; start_si(); }
  if(which==='ae'){ ae_state.started=false; start_ae(); }
  if(which==='dm'){ dm_state.started=false; start_dm(); }
}

/* Startbildschirm lÃ¤dt noch nichts â€“ erst beim Wechsel */
</script>
</body>
</html>
